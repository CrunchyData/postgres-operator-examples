{
  "$defs": {
    "CrunchyPostgresUserCredentials": {
      "properties": {
        "user": {
          "title": "User",
          "type": "string",
          "x-description": "Username for the Postgres user.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Postgres User"
        },
        "password": {
          "title": "Password",
          "type": "string",
          "x-description": "Password for the Postgres user.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Postgres Password"
        },
        "host": {
          "title": "Host",
          "type": "string",
          "x-description": "Host of the Postgres instance.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Postgres Host"
        },
        "port": {
          "exclusiveMinimum": 0,
          "title": "Port",
          "type": "integer",
          "x-description": "Port of the Postgres instance.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Postgres Port"
        },
        "pgbouncer_host": {
          "title": "Pgbouncer Host",
          "type": "string",
          "x-description": "Host of the PGBouncer instance.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "PGBouncer Host"
        },
        "pgbouncer_port": {
          "exclusiveMinimum": 0,
          "title": "Pgbouncer Port",
          "type": "integer",
          "x-description": "Port of the PGBouncer instance.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "PGBouncer Port"
        },
        "dbname": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Dbname"
        },
        "jdbc_uri": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Jdbc Uri"
        },
        "pgbouncer_jdbc_uri": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pgbouncer Jdbc Uri"
        },
        "pgbouncer_uri": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pgbouncer Uri"
        },
        "uri": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Uri"
        },
        "postgres_uri": {
          "anyOf": [
            {
              "$ref": "#/$defs/PostgresURI"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "user_type": {
          "const": "user",
          "default": "user",
          "title": "User Type",
          "type": "string"
        }
      },
      "required": [
        "user",
        "password",
        "host",
        "port",
        "pgbouncer_host",
        "pgbouncer_port"
      ],
      "title": "CrunchyPostgresUserCredentials",
      "type": "object",
      "x-description": "Configuration for Crunchy Postgres user credentials.",
      "x-is-advanced-field": false,
      "x-meta-type": "integration",
      "x-title": "Postgres User Credentials",
      "x-type": "CrunchyPostgresUserCredentials"
    },
    "PostgresAdminUser": {
      "properties": {
        "user": {
          "title": "User",
          "type": "string",
          "x-description": "Username for the Postgres user.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Postgres User"
        },
        "password": {
          "title": "Password",
          "type": "string",
          "x-description": "Password for the Postgres user.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Postgres Password"
        },
        "host": {
          "title": "Host",
          "type": "string",
          "x-description": "Host of the Postgres instance.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Postgres Host"
        },
        "port": {
          "exclusiveMinimum": 0,
          "title": "Port",
          "type": "integer",
          "x-description": "Port of the Postgres instance.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Postgres Port"
        },
        "pgbouncer_host": {
          "title": "Pgbouncer Host",
          "type": "string",
          "x-description": "Host of the PGBouncer instance.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "PGBouncer Host"
        },
        "pgbouncer_port": {
          "exclusiveMinimum": 0,
          "title": "Pgbouncer Port",
          "type": "integer",
          "x-description": "Port of the PGBouncer instance.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "PGBouncer Port"
        },
        "user_type": {
          "const": "admin",
          "default": "admin",
          "title": "User Type",
          "type": "string"
        }
      },
      "required": [
        "user",
        "password",
        "host",
        "port",
        "pgbouncer_host",
        "pgbouncer_port"
      ],
      "title": "PostgresAdminUser",
      "type": "object",
      "x-description": "Configuration for the Postgres admin user.",
      "x-is-advanced-field": false,
      "x-meta-type": "integration",
      "x-title": "Postgres Admin User",
      "x-type": "PostgresAdminUser"
    },
    "PostgresURI": {
      "description": "Configuration for the Postgres connection URI.",
      "properties": {
        "uri": {
          "title": "Uri",
          "type": "string",
          "x-description": "Specify full Postgres connection URI. E.g. 'postgresql://user:pass@host:5432/db'",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "URI"
        }
      },
      "required": [
        "uri"
      ],
      "title": "PostgresURI",
      "type": "object",
      "x-description": "Full Postgres connection URI configuration.",
      "x-is-advanced-field": false,
      "x-meta-type": "inline",
      "x-title": "Postgres URI",
      "x-type": "PostgresURI"
    },
    "PostgresUsers": {
      "properties": {
        "postgres_admin_user": {
          "anyOf": [
            {
              "$ref": "#/$defs/PostgresAdminUser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "x-description": "Admin user for the Postgres instance.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Postgres Admin User"
        },
        "users": {
          "items": {
            "$ref": "#/$defs/CrunchyPostgresUserCredentials"
          },
          "title": "Users",
          "type": "array",
          "x-description": "List of Postgres users with their credentials.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Postgres Users"
        }
      },
      "title": "PostgresUsers",
      "type": "object",
      "x-description": "",
      "x-is-advanced-field": false,
      "x-meta-type": "inline",
      "x-title": "",
      "x-type": "PostgresUsers"
    },
    "ServiceAPI_WebApp_": {
      "properties": {
        "internal_url": {
          "anyOf": [
            {
              "$ref": "#/$defs/WebApp"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "x-description": "Internal URL to access the service. This route is not protected by platform authorization and only workloads from the same project can access it.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Internal URL"
        },
        "external_url": {
          "anyOf": [
            {
              "$ref": "#/$defs/WebApp"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "x-description": "External URL for accessing the service from outside the cluster. This route might be secured by platform authorization and is accessible from any network with a valid platform authorization token that has appropriate permissions.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "External URL"
        }
      },
      "title": "ServiceAPI[WebApp]",
      "type": "object",
      "x-description": "Service APIs URLs.",
      "x-is-advanced-field": false,
      "x-meta-type": "inline",
      "x-title": "Service APIs",
      "x-type": "ServiceAPI[GrpcAPI]"
    },
    "WebApp": {
      "properties": {
        "host": {
          "title": "Host",
          "type": "string",
          "x-description": "The hostname of the HTTP endpoint.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Hostname"
        },
        "port": {
          "default": 80,
          "exclusiveMinimum": 0,
          "title": "Port",
          "type": "integer",
          "x-description": "The port of the HTTP endpoint.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Port"
        },
        "protocol": {
          "default": "http",
          "title": "Protocol",
          "type": "string",
          "x-description": "The protocol to use, e.g., http or https.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Protocol"
        },
        "timeout": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": 30.0,
          "title": "Timeout",
          "x-description": "Connection timeout in seconds.",
          "x-is-advanced-field": false,
          "x-meta-type": "inline",
          "x-title": "Connection Timeout"
        },
        "base_path": {
          "default": "/",
          "title": "Base Path",
          "type": "string"
        },
        "api_type": {
          "const": "webapp",
          "default": "webapp",
          "title": "Api Type",
          "type": "string"
        }
      },
      "required": [
        "host"
      ],
      "title": "WebApp",
      "type": "object",
      "x-description": "HTTP API Configuration.",
      "x-is-advanced-field": false,
      "x-meta-type": "inline",
      "x-title": "HTTP API",
      "x-type": "OpenAICompatibleEmbeddingsRestAPI"
    }
  },
  "properties": {
    "app_url": {
      "anyOf": [
        {
          "$ref": "#/$defs/ServiceAPI_WebApp_"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "The main application URL for accessing the service. This is the primary endpoint users should use to access the application.",
      "title": "Application URL"
    },
    "postgres_users": {
      "anyOf": [
        {
          "$ref": "#/$defs/PostgresUsers"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    }
  },
  "title": "PostgresOutputs",
  "type": "object"
}
