apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

labels:
- includeSelectors: true
  pairs:
    app.kubernetes.io/component: crunchy-grafana

resources:
- deployment.yaml
- pvc.yaml
- service.yaml
- serviceaccount.yaml
- dashboards

configMapGenerator:
- files:
  - config/crunchy_grafana_datasource.yml
  name: grafana-datasources
- behavior: merge
  files:
  - config/crunchy_grafana_dashboards.yml
  name: grafana-dashboards

secretGenerator:
- literals:
  - password=admin
  - username=admin
  name: grafana-admin
  type: Opaque

generatorOptions:
  disableNameSuffixHash: true
